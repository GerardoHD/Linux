#Configurar Arch Linux con Xfce
echo          ------==Script Creado por GerardoHD==------
echo https://github.com/GerardoHD
echo Script creado para Arch Linux
echo Se distribuye con la esperanza de que sea útil, pero sin ninguna garantía
sleep 1s
if [ "$(id -u)" -eq 0 ] ; then
        echo " ADVERTENCIA: Makepkg no compilará paquetes desde AUR en una sesión Root "
        echo " Este Script usará sudo cuando sea necesario. Deteniendo. "
        echo " Simplemente ejecute este Script desde su usuario. "
        exit
fi
#
echo Probando conexión a Internet
ping -c 3 www.archlinux.org
sudo mount -o remount,size=2G,noatime /tmp
#
echo     ---=Instalando Xfce=---
sudo pacman -S xfce4
sudo pacman -S orage thunar-archive-plugin thunar-media-tags-plugin xfce4-artwork
sudo pacman -S xfce4-battery-plugin xfce4-datetime-plugin xfce4-diskperf-plugin
sudo pacman -S xfce4-fsguard-plugin xfce4-mount-plugin xfce4-netload-plugin
sudo pacman -S xfce4-notifyd xfce4-pulseaudio-plugin xfce4-taskmanager
sudo pacman -S xfce4-verve-plugin xfce4-weather-plugin ristretto xfce4-whiskermenu-plugin
sleep 2s
sudo pacman -S gparted network-manager-applet galculator gnome-font-viewer gnome-mplayer
sudo pacman -S gnome-disk-utility file-roller evince baobab cheese gnome-video-effects gnome-screenshot
sudo pacman -S pavucontrol zenity light-locker menulibre
sudo pacman -S light-locker
sudo pacman -S nautilus-open-terminal filemanager-actions gedit
sleep 2s
yaourt -S redshift-gtk-git mugshot indicator-keylock
yaourt -S xfce4-windowck-plugin
yaourt -S bing-wallpaper-git 
yaourt -S lightdm-webkit2-greeter
yaourt -S lightdm-webkit2-theme-material2
yaourt -S nautilus-admin
# xfce4-dockbarx-plugin dockbarx-macosx-theme
#
echo       ---=Actualizando Arch Linux=---
sleep 1s
#!/bin/bash
speedtest
sudo mount -o remount,size=2G,noatime /tmp
#sudo cups-genppdupdate
#sudo pacman -Syyu
yaourt -Syyyua
sudo grub-mkconfig -o /boot/grub/grub.cfg
sudo fc-cache -f -v
sudo gtk-update-icon-cache
echo       ---=Limpiando Arch Linux=--
sleep 1s
echo
#!/bin/bash
sudo pacman-optimize
sudo pacman -Sc
sudo yaourt -Sc
df -h
sleep 3s
#
echo       ---=Activando LightDM=---
sudo systemctl enable lightdm.service
echo       ---=Activando Servicio Cups "cupsd"=---
sudo systemctl enable org.cups.cupsd.service
echo       ---=Activando Servicio Network Manager=---
sudo systemctl enable NetworkManager.service
echo       ---=Activando Servicio SSHD "sshd"=---
sudo systemctl enable sshd.service
sudo systemctl enable sshd.socket
#
#
#Cambiar distribución del teclado en LightDM
echo >> 20-keyboard.conf
sudo sed -i '$ a\Section "InputClass"' 20-keyboard.conf
sudo sed -i '$ a\    Identifier "keyboard"' 20-keyboard.conf
sudo sed -i '$ a\    MatchIsKeyboard "yes"' 20-keyboard.conf
sudo sed -i '$ a\    Option "XkbLayout" "es"' 20-keyboard.conf
sudo sed -i '$ a\    Option "XkbVariant" "nodeadkeys"' 20-keyboard.conf
sudo sed -i '$ a\EndSection' 20-keyboard.conf
sudo mv  20-keyboard.conf /etc/X11/xorg.conf.d/20-keyboard.conf
#
echo Cambiando greeter de LightDM a Webkit2-Greeter
sudo sed -i 's/#greeter-session=example-gtk-gnome/greeter-session=lightdm-webkit2-greeter/g' /etc/lightdm/lightdm.conf
#
echo Cambiando Tema de Webkit2-Greeter
sudo sed -i 's/webkit_theme        = antergos/webkit_theme        = material2/g' /etc/lightdm/lightdm-webkit2-greeter.conf
#
sleep 1s
echo Ejecuta el Script Elegido
ls /usr/local/bin/
sleep 5s
clear
screenfetch
#
